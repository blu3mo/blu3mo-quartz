---
title:
 'NoSQL'
---

<img src='https://scrapbox.io/api/pages/blu3mo-public/情報科学の達人/icon' alt='情報科学の達人.icon' height="19.5"/> [[データベース]](NoSQL)の講義
- 定義が広い/曖昧?
    - 1998: RDBMSから[[SQL]]を除外した[[データモデル]]を指す用語として定義された
    - 2009: [[リレーショナルデータベース]]以外の[[データベース]](全て)を指す用語として定義された
- [[ビックデータ処理]]のための新しい世代の[[DMBS]]

- [[BASE特性]]を持つ

- 強み
    - データ容量が大きい（大量のデータを扱える）
        - [[分散システム]]を基本とするから️
    - [[スケーラビリティ]]が高い
        - [[分散システム]]は「[[スケールアウト]]」型（詳しく[[スケーラビリティ]]に書いた）
    - システム管理コストを下げられる
        - 従来DBA(管理者)が行っていたバックアップ作業等を自動で行う
        - ([[分散システム]]の仕組み上自動でせざるをえないから、そういう機能が提供される)
    - 設備投資コストが低い
    - 柔軟、様々なモデルを扱える
        - [[スキーマレス]]、[[リレーション]]を持たないこともある

- 弱み (大体は歴史の浅さが原因)
    - [[発展途上]]のシステム
        - 重要な機能が未実装だったり
        - サポート体制が整備されていなかったり
            - 多くのシステムは[[OSS]]、即座に不具合に対応してもらえないことも
    - システム管理に高いスキルが必要
    - プログラミングコストが高い、SQLのように[[標準化]]されてない?から使う物に合わせないといけない?
    - 専門家が不足している

- NoSQLのアーキテクチャ: [[分散データベース]]
    - [[シャーディング]] vs [[レプリケーション]]

- [[データモデル]]
    - [[スキーマレス]]
    - データ構造の最小単位: [[Aggregate]] ([[タプル]]的な一対一のデータ)
    - 様々なデータモデルが存在する（「NoSQL」はSQLでないというだけの言葉なので）
        - [[KVS]], ドキュメント, カラムストア, [[グラフ]]など
        - これらの違いは、Aggregateの形
    - 例
    - ![image](https://miro.medium.com/max/2400/0*iMiEK9L_IdbMLHqG.png)
        - [[KVS]] (Key Value Store)
            - 向いているユースケース
                - Keyのみで情報が一意に特定できる場合
                    - ex: ユーザ情報, 商品情報などの参照, 更新
            - 向いてないユースケース
                - 複数のaggregate(key-value pair)の集合演算をしたい場合
                - valueから検索したい場合
        - [[ドキュメントデータベース]]
            - [[json]], [[xml]]など
            - スキーマレスな半構造データ
            - [[kvs]]の、valueに対して別のaggregateを置けるようにした物
                - ネストさせている
            - 向いているユースケース
                - スキーマが固定されていないデータの場合
                    - ex: イベントロギング, ブログ記事, eコマース
            - 向いてないユースケース
                - 複数のaggregateの集合演算をしたい場合
                - データ構造が定期的に変わる場合 (<img src='https://scrapbox.io/api/pages/blu3mo-public/blu3mo/icon' alt='blu3mo.icon' height="19.5"/>なぜ?)
        - [[カラムストア]]
            - ドキュメントデータベースと[[リレーショナルデータベース]]の中間的な
            - rowの中にcolumnがある
                - ただ、[[リレーショナルデータベース]]みたいに全rowが同じcolumnを持つ必要はない
            - 向いているユースケース
                - スキーマが多くの場合同じだけど、たまに異なることもある場合
                    - ex: イベントロギング, コンテンツ管理システム, ブログ管理システム
            - 向いていないユースケース
                - [[ACID特性]]が求められる場合
                - 問合せ処理結果の集約演算が必要な場合
                - プロトタイプ（クエリパターンが変わりやすい）の場合
        - [[グラフデータベース]]
            - データを[[グラフ]]として管理
            - エンティティ間の関連性を保存する
            - プロパティグラフ: グラフの[[ノード]]と[[辺]]がプロパティ(ラベル、名前とか)を持つ
            - [[グラフ理論]]の[[アルゴリズム]]を応用できる
            - 向いていないユースケース
                - 大規模なバッチ処理が必要な場合
                - 巨大なグラフデータを扱う場合
                    - スケーラビリティ確保が難しい
                    - なぜなら、NoSQLでよくやる手段（データを分割して分散させる）がやりにくいから
